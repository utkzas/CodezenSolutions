https://codezen.codingninjas.com/practice/465/704/stocks-are-profitable

int maxProfit(int *arr,int l)
{ 
    int greatest=arr[0];
    for(int i=0;i<l;i++)
    {
        if (arr[i]>greatest)
            greatest=arr[i];
    }
    int smallest=arr[0];
    for(int i=0;i<l;i++)
    {
        if (arr[i]<smallest)
            smallest=arr[i];
    }
    return (greatest-smallest);
//Write code here 
}

I don't know what test cases are failing so can't improve it further. 